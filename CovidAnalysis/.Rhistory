wiki_base_url <- "https://en.wikipedia.org/w/index.php"
request_url <- paste(wiki_base_url, wiki_url_param)
print(request_url)
# - Use the `GET` function in httr library with a `url` argument and a `query` arugment to get a HTTP response
# Use the `return` function to return the response
}
get_wiki_covid19_page()
request_url <- paste(wiki_base_url, wiki_url_param, sep = "")
# Install packages
library(httr)
library(rvest)
get_wiki_covid19_page <- function() {
#Covid 19 url param
wiki_url_param <- "?title=Template:COVID-19_testing_by_country"
# Wiki page base
wiki_base_url <- "https://en.wikipedia.org/w/index.php"
request_url <- paste(wiki_base_url, wiki_url_param, sep = "")
print(request_url)
# - Use the `GET` function in httr library with a `url` argument and a `query` arugment to get a HTTP response
# Use the `return` function to return the response
}
get_wiki_covid19_page()
# Install packages
library(httr)
library(rvest)
get_wiki_covid19_page <- function() {
#Covid 19 url param
wiki_url_param_value <- "Template:COVID-19_testing_by_country"
# Wiki page base
wiki_base_url <- "https://en.wikipedia.org/w/index.php"
# - Use the `GET` function in httr library with a `url` argument and a `query` arugment to get a HTTP response
GET(wiki_base_url, query=list(title=wiki_url_param_value))
}
get_wiki_covid19_page()
# Install packages
library(httr)
library(rvest)
get_wiki_covid19_page <- function() {
#Covid 19 url param
wiki_url_param_value <- "Template:COVID-19_testing_by_country"
# Wiki page base
wiki_base_url <- "https://en.wikipedia.org/w/index.php"
# - Use the `GET` function in httr library with a `url` argument and a `query` arugment to get a HTTP response
response <- GET(wiki_base_url, query=list(title=wiki_url_param_value))
return (response)
}
response <- get_wiki_covid19_page()
print(response)
# Install packages
library(httr)
library(rvest)
get_wiki_covid19_page <- function() {
#Covid 19 url param
wiki_url_param_value <- "Template:COVID-19_testing_by_country"
# Wiki page base
wiki_base_url <- "https://en.wikipedia.org/w/index.php"
# - Use the `GET` function in httr library with a `url` argument and a `query` arugment to get a HTTP response
response <- GET(wiki_base_url, query=list(title=wiki_url_param_value))
return (response)
}
extract_covid19_test_data <- function(response) {
html <- read_html(response)
print(html)
}
response <- get_wiki_covid19_page()
extract_covid19_test_data(response)
# Install packages
library(httr)
library(rvest)
get_wiki_covid19_page <- function() {
#Covid 19 url param
wiki_url_param_value <- "Template:COVID-19_testing_by_country"
# Wiki page base
wiki_base_url <- "https://en.wikipedia.org/w/index.php"
# - Use the `GET` function in httr library with a `url` argument and a `query` arugment to get a HTTP response
response <- GET(wiki_base_url, query=list(title=wiki_url_param_value))
return (response)
}
extract_covid19_test_data <- function(response) {
html <- read_html(response)
data_nodes <- html_noes(html)
print(data_nodes)
}
response <- get_wiki_covid19_page()
extract_covid19_test_data(response)
# Install packages
library(httr)
library(rvest)
get_wiki_covid19_page <- function() {
#Covid 19 url param
wiki_url_param_value <- "Template:COVID-19_testing_by_country"
# Wiki page base
wiki_base_url <- "https://en.wikipedia.org/w/index.php"
# - Use the `GET` function in httr library with a `url` argument and a `query` arugment to get a HTTP response
response <- GET(wiki_base_url, query=list(title=wiki_url_param_value))
return (response)
}
extract_covid19_test_data <- function(response) {
html <- read_html(response)
data_nodes <- html_nodes(html)
print(data_nodes)
}
response <- get_wiki_covid19_page()
extract_covid19_test_data(response)
# Install packages
library(httr)
# Install packages
library(httr)
library(rvest)
get_wiki_covid19_page <- function() {
#Covid 19 url param
wiki_url_param_value <- "Template:COVID-19_testing_by_country"
# Wiki page base
wiki_base_url <- "https://en.wikipedia.org/w/index.php"
# - Use the `GET` function in httr library with a `url` argument and a `query` arugment to get a HTTP response
response <- GET(wiki_base_url, query=list(title=wiki_url_param_value))
return (response)
}
extract_covid19_test_data <- function(response) {
html <- read_html(response)
data_nodes <- html_nodes(html, "table")
print(data_nodes)
}
response <- get_wiki_covid19_page()
extract_covid19_test_data(response)
data_nodes <- html_nodes(html, "table")[3]
# Install packages
library(httr)
library(rvest)
get_wiki_covid19_page <- function() {
#Covid 19 url param
wiki_url_param_value <- "Template:COVID-19_testing_by_country"
# Wiki page base
wiki_base_url <- "https://en.wikipedia.org/w/index.php"
# - Use the `GET` function in httr library with a `url` argument and a `query` arugment to get a HTTP response
response <- GET(wiki_base_url, query=list(title=wiki_url_param_value))
return (response)
}
extract_covid19_test_data <- function(response) {
html <- read_html(response)
data_nodes <- html_nodes(html, "table")[3]
print(data_nodes)
}
response <- get_wiki_covid19_page()
extract_covid19_test_data(response)
data_nodes <- html_nodes(html, "table")[2]
print(data_nodes)
# Install packages
library(httr)
library(rvest)
get_wiki_covid19_page <- function() {
#Covid 19 url param
wiki_url_param_value <- "Template:COVID-19_testing_by_country"
# Wiki page base
wiki_base_url <- "https://en.wikipedia.org/w/index.php"
# - Use the `GET` function in httr library with a `url` argument and a `query` arugment to get a HTTP response
response <- GET(wiki_base_url, query=list(title=wiki_url_param_value))
return (response)
}
extract_covid19_test_data <- function(response) {
html <- read_html(response)
data_nodes <- html_nodes(html, "table")[2]
print(data_nodes)
}
response <- get_wiki_covid19_page()
extract_covid19_test_data(response)
print(covid_html_table)
# Install packages
library(httr)
library(rvest)
get_wiki_covid19_page <- function() {
#Covid 19 url param
wiki_url_param_value <- "Template:COVID-19_testing_by_country"
# Wiki page base
wiki_base_url <- "https://en.wikipedia.org/w/index.php"
# - Use the `GET` function in httr library with a `url` argument and a `query` arugment to get a HTTP response
response <- GET(wiki_base_url, query=list(title=wiki_url_param_value))
return (response)
}
extract_covid19_test_data <- function(response) {
html <- read_html(response)
covid_table_html_node <- html_nodes(html, "table")[2]
covid_html_table <- html_table(covid_table_html_node)
print(covid_html_table)
}
response <- get_wiki_covid19_page()
extract_covid19_test_data(response)
print(covid_html_table.as.data.frame)
# Install packages
library(httr)
library(rvest)
get_wiki_covid19_page <- function() {
#Covid 19 url param
wiki_url_param_value <- "Template:COVID-19_testing_by_country"
# Wiki page base
wiki_base_url <- "https://en.wikipedia.org/w/index.php"
# - Use the `GET` function in httr library with a `url` argument and a `query` arugment to get a HTTP response
response <- GET(wiki_base_url, query=list(title=wiki_url_param_value))
return (response)
}
extract_covid19_test_data <- function(response) {
html <- read_html(response)
covid_table_html_node <- html_nodes(html, "table")[2]
covid_html_table <- html_table(covid_table_html_node)
covid_html_table.as.data.frame
print(covid_html_table.as.data.frame)
}
response <- get_wiki_covid19_page()
extract_covid19_test_data(response)
# Install packages
library(httr)
library(rvest)
get_wiki_covid19_page <- function() {
#Covid 19 url param
wiki_url_param_value <- "Template:COVID-19_testing_by_country"
# Wiki page base
wiki_base_url <- "https://en.wikipedia.org/w/index.php"
# - Use the `GET` function in httr library with a `url` argument and a `query` arugment to get a HTTP response
response <- GET(wiki_base_url, query=list(title=wiki_url_param_value))
return (response)
}
extract_covid19_test_data <- function(response) {
html <- read_html(response)
covid_table_html_node <- html_nodes(html, "table")[2]
covid_html_table_data_frame <- as.data.frame(html_table(covid_table_html_node))
print(covid_html_table_data_frame)
}
response <- get_wiki_covid19_page()
extract_covid19_test_data(response)
# Install packages
library(httr)
library(rvest)
get_wiki_covid19_page <- function() {
#Covid 19 url param
wiki_url_param_value <- "Template:COVID-19_testing_by_country"
# Wiki page base
wiki_base_url <- "https://en.wikipedia.org/w/index.php"
# - Use the `GET` function in httr library with a `url` argument and a `query` arugment to get a HTTP response
response <- GET(wiki_base_url, query=list(title=wiki_url_param_value))
return (response)
}
extract_covid19_test_data_frame <- function(response) {
html <- read_html(response)
covid_table_html_node <- html_nodes(html, "table")[2]
covid_html_table_data_frame <- as.data.frame(html_table(covid_table_html_node))
return(covid_html_table_data_frame)
}
response <- get_wiki_covid19_page()
df = extract_covid19_test_data_frame(response)
print(df)
# Install packages
library(httr)
library(rvest)
get_wiki_covid19_page <- function() {
#Covid 19 url param
wiki_url_param_value <- "Template:COVID-19_testing_by_country"
# Wiki page base
wiki_base_url <- "https://en.wikipedia.org/w/index.php"
# - Use the `GET` function in httr library with a `url` argument and a `query` arugment to get a HTTP response
response <- GET(wiki_base_url, query=list(title=wiki_url_param_value))
return (response)
}
extract_covid19_test_data_frame <- function(response) {
html <- read_html(response)
covid_table_html_node <- html_nodes(html, "table")[2]
covid_html_table_data_frame <- as.data.frame(html_table(covid_table_html_node))
return(covid_html_table_data_frame)
}
preprocess_covid_data_frame <- function(data_frame) {
shape <- dim(data_frame)
# Remove the World row
data_frame<-data_frame[!(data_frame$`Country or region`=="World"),]
# Remove the last row
data_frame <- data_frame[1:172, ]
# We dont need the Units and Ref columns, so can be removed
data_frame["Ref."] <- NULL
data_frame["Units[b]"] <- NULL
# Renaming the columns
names(data_frame) <- c("country", "date", "tested", "confirmed", "confirmed.tested.ratio", "tested.population.ratio", "confirmed.population.ratio")
# Convert column data types
data_frame$country <- as.factor(data_frame$country)
data_frame$date <- as.factor(data_frame$date)
data_frame$tested <- as.numeric(gsub(",","",data_frame$tested))
data_frame$confirmed <- as.numeric(gsub(",","",data_frame$confirmed))
data_frame$'confirmed.tested.ratio' <- as.numeric(gsub(",","",data_frame$`confirmed.tested.ratio`))
data_frame$'tested.population.ratio' <- as.numeric(gsub(",","",data_frame$`tested.population.ratio`))
data_frame$'confirmed.population.ratio' <- as.numeric(gsub(",","",data_frame$`confirmed.population.ratio`))
return(data_frame)
}
response <- get_wiki_covid19_page()
data_frame = extract_covid19_test_data_frame(response)
processed_data = preprocess_covid_data_frame(data_frame)
print(processed_data)
# Install packages
library(httr)
library(rvest)
get_wiki_covid19_page <- function() {
#Covid 19 url param
wiki_url_param_value <- "Template:COVID-19_testing_by_country"
# Wiki page base
wiki_base_url <- "https://en.wikipedia.org/w/index.php"
# - Use the `GET` function in httr library with a `url` argument and a `query` arugment to get a HTTP response
response <- GET(wiki_base_url, query=list(title=wiki_url_param_value))
return (response)
}
extract_covid19_test_data_frame <- function(response) {
html <- read_html(response)
covid_table_html_node <- html_nodes(html, "table")[2]
covid_html_table_data_frame <- as.data.frame(html_table(covid_table_html_node))
return(covid_html_table_data_frame)
}
preprocess_covid_data_frame <- function(data_frame) {
shape <- dim(data_frame)
# Remove the World row
data_frame<-data_frame[!(data_frame$`Country or region`=="World"),]
# Remove the last row
data_frame <- data_frame[1:172, ]
# We dont need the Units and Ref columns, so can be removed
data_frame["Ref."] <- NULL
data_frame["Units[b]"] <- NULL
# Renaming the columns
names(data_frame) <- c("country", "date", "tested", "confirmed", "confirmed.tested.ratio", "tested.population.ratio", "confirmed.population.ratio")
# Convert column data types
data_frame$country <- as.factor(data_frame$country)
data_frame$date <- as.factor(data_frame$date)
data_frame$tested <- as.numeric(gsub(",","",data_frame$tested))
data_frame$confirmed <- as.numeric(gsub(",","",data_frame$confirmed))
data_frame$'confirmed.tested.ratio' <- as.numeric(gsub(",","",data_frame$`confirmed.tested.ratio`))
data_frame$'tested.population.ratio' <- as.numeric(gsub(",","",data_frame$`tested.population.ratio`))
data_frame$'confirmed.population.ratio' <- as.numeric(gsub(",","",data_frame$`confirmed.population.ratio`))
return(data_frame)
}
response <- get_wiki_covid19_page()
data_frame = extract_covid19_test_data_frame(response)
processed_data = preprocess_covid_data_frame(data_frame)
print(processed_data)
# Install packages
library(httr)
library(rvest)
get_wiki_covid19_page <- function() {
#Covid 19 url param
wiki_url_param_value <- "Template:COVID-19_testing_by_country"
# Wiki page base
wiki_base_url <- "https://en.wikipedia.org/w/index.php"
# - Use the `GET` function in httr library with a `url` argument and a `query` arugment to get a HTTP response
response <- GET(wiki_base_url, query=list(title=wiki_url_param_value))
return (response)
}
extract_covid19_test_data_frame <- function(response) {
html <- read_html(response)
covid_table_html_node <- html_nodes(html, "table")[2]
covid_html_table_data_frame <- as.data.frame(html_table(covid_table_html_node))
return(covid_html_table_data_frame)
}
preprocess_covid_data_frame <- function(data_frame) {
shape <- dim(data_frame)
# Remove the World row
data_frame<-data_frame[!(data_frame$`Country or region`=="World"),]
# Remove the last row
data_frame <- data_frame[1:172, ]
# We dont need the Units and Ref columns, so can be removed
data_frame["Ref."] <- NULL
data_frame["Units[b]"] <- NULL
# Renaming the columns
names(data_frame) <- c("country", "date", "tested", "confirmed", "confirmed.tested.ratio", "tested.population.ratio", "confirmed.population.ratio")
# Convert column data types
data_frame$country <- as.factor(data_frame$country)
data_frame$date <- as.factor(data_frame$date)
data_frame$tested <- as.numeric(gsub(",","",data_frame$tested))
data_frame$confirmed <- as.numeric(gsub(",","",data_frame$confirmed))
data_frame$'confirmed.tested.ratio' <- as.numeric(gsub(",","",data_frame$`confirmed.tested.ratio`))
data_frame$'tested.population.ratio' <- as.numeric(gsub(",","",data_frame$`tested.population.ratio`))
data_frame$'confirmed.population.ratio' <- as.numeric(gsub(",","",data_frame$`confirmed.population.ratio`))
return(data_frame)
}
response <- get_wiki_covid19_page()
data_frame = extract_covid19_test_data_frame(response)
processed_data = preprocess_covid_data_frame(data_frame)
print(processed_data)
# Remove the World row
data_frame<-data_frame[!(data_frame[`Country or region`]=="World"),]
# Install packages
library(httr)
library(rvest)
get_wiki_covid19_page <- function() {
#Covid 19 url param
wiki_url_param_value <- "Template:COVID-19_testing_by_country"
# Wiki page base
wiki_base_url <- "https://en.wikipedia.org/w/index.php"
# - Use the `GET` function in httr library with a `url` argument and a `query` arugment to get a HTTP response
response <- GET(wiki_base_url, query=list(title=wiki_url_param_value))
return (response)
}
extract_covid19_test_data_frame <- function(response) {
html <- read_html(response)
covid_table_html_node <- html_nodes(html, "table")[2]
covid_html_table_data_frame <- as.data.frame(html_table(covid_table_html_node))
return(covid_html_table_data_frame)
}
preprocess_covid_data_frame <- function(data_frame) {
shape <- dim(data_frame)
# Remove the World row
data_frame<-data_frame[!(data_frame['Country or region']=="World"),]
# Remove the last row
data_frame <- data_frame[1:172, ]
# We dont need the Units and Ref columns, so can be removed
data_frame["Ref."] <- NULL
data_frame["Units[b]"] <- NULL
# Renaming the columns
names(data_frame) <- c("country", "date", "tested", "confirmed", "confirmed.tested.ratio", "tested.population.ratio", "confirmed.population.ratio")
# Convert column data types
data_frame.country <- as.factor(data_frame.country)
data_frame.date <- as.factor(data_frame.date)
data_frame.tested <- as.numeric(gsub(",","",data_frame.tested))
data_frame.confirmed <- as.numeric(gsub(",","",data_frame.confirmed))
data_frame['confirmed.tested.ratio'] <- as.numeric(gsub(",","",data_frame[`confirmed.tested.ratio`]))
data_frame['tested.population.ratio'] <- as.numeric(gsub(",","",data_frame[`tested.population.ratio`]))
data_frame['confirmed.population.ratio'] <- as.numeric(gsub(",","",data_frame[`confirmed.population.ratio`]))
return(data_frame)
}
response <- get_wiki_covid19_page()
data_frame = extract_covid19_test_data_frame(response)
processed_data = preprocess_covid_data_frame(data_frame)
print(processed_data)
# We dont need the Units and Ref columns, so can be removed
data_frame["Ref."] <- NULL
# Install packages
library(httr)
library(rvest)
get_wiki_covid19_page <- function() {
#Covid 19 url param
wiki_url_param_value <- "Template:COVID-19_testing_by_country"
# Wiki page base
wiki_base_url <- "https://en.wikipedia.org/w/index.php"
# - Use the `GET` function in httr library with a `url` argument and a `query` arugment to get a HTTP response
response <- GET(wiki_base_url, query=list(title=wiki_url_param_value))
return (response)
}
extract_covid19_test_data_frame <- function(response) {
html <- read_html(response)
covid_table_html_node <- html_nodes(html, "table")[2]
covid_html_table_data_frame <- as.data.frame(html_table(covid_table_html_node))
return(covid_html_table_data_frame)
}
preprocess_covid_data_frame <- function(data_frame) {
shape <- dim(data_frame)
# Remove the World row
data_frame<-data_frame[!(data_frame$`Country or region`=="World"),]
# Remove the last row
data_frame <- data_frame[1:172, ]
# We dont need the Units and Ref columns, so can be removed
data_frame["Ref."] <- NULL
data_frame["Units[b]"] <- NULL
# Renaming the columns
names(data_frame) <- c("country", "date", "tested", "confirmed", "confirmed.tested.ratio", "tested.population.ratio", "confirmed.population.ratio")
# Convert column data types
data_frame$country <- as.factor(data_frame$country)
data_frame$date <- as.factor(data_frame$date)
data_frame$tested <- as.numeric(gsub(",","",data_frame$tested))
data_frame$confirmed <- as.numeric(gsub(",","",data_frame$confirmed))
data_frame$'confirmed.tested.ratio' <- as.numeric(gsub(",","",data_frame$`confirmed.tested.ratio`))
data_frame$'tested.population.ratio' <- as.numeric(gsub(",","",data_frame$`tested.population.ratio`))
data_frame$'confirmed.population.ratio' <- as.numeric(gsub(",","",data_frame$`confirmed.population.ratio`))
return(data_frame)
}
response <- get_wiki_covid19_page()
data_frame = extract_covid19_test_data_frame(response)
processed_data = preprocess_covid_data_frame(data_frame)
print(processed_data)
# Install packages
library(httr)
library(rvest)
get_wiki_covid19_page <- function() {
#Covid 19 url param
wiki_url_param_value <- "Template:COVID-19_testing_by_country"
# Wiki page base
wiki_base_url <- "https://en.wikipedia.org/w/index.php"
# - Use the `GET` function in httr library with a `url` argument and a `query` arugment to get a HTTP response
response <- GET(wiki_base_url, query=list(title=wiki_url_param_value))
return (response)
}
extract_covid19_test_data_frame <- function(response) {
html <- read_html(response)
covid_table_html_node <- html_nodes(html, "table")[2]
covid_html_table_data_frame <- as.data.frame(html_table(covid_table_html_node))
return(covid_html_table_data_frame)
}
preprocess_covid_data_frame <- function(data_frame) {
shape <- dim(data_frame)
# Remove the World row
data_frame<-data_frame[!(data_frame$`Country or region`=="World"),]
# Remove the last row
data_frame <- data_frame[1:172, ]
# We dont need the Units and Ref columns, so can be removed
data_frame["Ref."] <- NULL
data_frame["Units[b]"] <- NULL
# Renaming the columns
names(data_frame) <- c("country", "date", "tested", "confirmed", "confirmed.tested.ratio", "tested.population.ratio", "confirmed.population.ratio")
# Convert column data types
data_frame$country <- as.factor(data_frame$country)
data_frame$date <- as.factor(data_frame$date)
data_frame$tested <- as.numeric(gsub(",","",data_frame$tested))
data_frame$confirmed <- as.numeric(gsub(",","",data_frame$confirmed))
data_frame$'confirmed.tested.ratio' <- as.numeric(gsub(",","",data_frame$`confirmed.tested.ratio`))
data_frame$'tested.population.ratio' <- as.numeric(gsub(",","",data_frame$`tested.population.ratio`))
data_frame$'confirmed.population.ratio' <- as.numeric(gsub(",","",data_frame$`confirmed.population.ratio`))
return(data_frame)
}
response <- get_wiki_covid19_page()
data_frame = extract_covid19_test_data_frame(response)
processed_data = preprocess_covid_data_frame(data_frame)
write.csv(processed_data, "/Users/kailynwilliams/R-practice/CovidAnalysis/covid_data.csv")
